apiVersion: pkg.crossplane.io/v1beta1
kind: DeploymentRuntimeConfig
metadata:
  name: tf-controller-config
spec:
  deploymentTemplate:
    spec:
      selector: {}
      template:
        spec:
          containers:
            - name: package-runtime
              image: docker.io/ssubedir/crossplane-terraform-gcloud:v1 # TODO: Update to use artifact registry image
              args:
                # - --debug
                - --timeout=40m
              # env:
              #   - name: TF_LOG
              #     value: INFO
              #   - name: TF_LOG_PATH
              #     value: log_terraform.log

  serviceAccountTemplate:
    metadata:
      name: provider-terraform
      annotations:
        iam.gke.io/gcp-service-account: phac-backstage-kcc-sa@pht-01hsv4d2m0n.iam.gserviceaccount.com
